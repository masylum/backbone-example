!!! 5
html
  head
    title= 'Uber'

    -if (self.css)
      -each file in self.css
        link(rel='stylesheet', href='/css/' + file+'.css')

    link(rel="stylesheet", href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css")

    style(type= 'text/css').
      .btn.small.edit, .btn.small.delete {
        padding: 1px 5px;
      }
      .address {
        margin-bottom: 10px;
      }

    script#address_line(type= 'text/template')
      | <h4><%= nick %> <small><%= address%></small></h4>
      | <code><%= location.lat%> <%= location.lng%></code>
      | <a href='#/edit/<%= id%>' class='edit btn small'>edit</a>
      | <a href='#' class='delete btn danger small'>delete</a>

    script#form_create(type= 'text/template')
      | <h2>Create address</h2>
      | <div class='clearfix'>
      |   <label for= 'nick'>Nickname</label>
      |   <div class='input'>
      |     <input id='nick' type= 'text' name= 'address[nick]' />
      |   </div>
      | </div>
      | <div class='clearfix'>
      |   <label for='address'>Address</label>
      |   <div class='input'>
      |     <input id='address' type='text' name='address[address]' />
      |   </div>
      | </div>
      | <div class="actions">
      |   <input class="btn primary" type= 'submit' value='Create' />
      | </div>

    script#form_edit(type= 'text/template')
      | <h2>Edit address <%=nick%></h2>
      | <div class='clearfix'>
      |   <label for= 'nick'>Nickname</label>
      |   <div class='input'>
      |     <input id='nick' type= 'text' name= 'address[nick]' value='<%=nick%>' />
      |   </div>
      | </div>
      | <div class="actions">
      |   <input class="btn primary" type= 'submit' value='Edit' />
      | </div>

  body
    .container

      .content
        != self.body

    script(src='/js/global.js', type='text/javascript')
    script(src='/js/jquery.js', type='text/javascript')
    script(src='/js/underscore.js', type='text/javascript')
    script(src='/js/deparam.js', type='text/javascript')
    script(src='/js/backbone.js', type='text/javascript')
    script(src='/js/models/address.js', type='text/javascript')
    script(src='/js/collections/addresses.js', type='text/javascript')
    script(src='/js/views/address.js', type='text/javascript')
    script(src='/js/views/addresses.js', type='text/javascript')
    script(src='/js/views/new_address.js', type='text/javascript')
    script(src='/js/views/edit_address.js', type='text/javascript')
    script(src='/js/controllers/root.js', type='text/javascript')

    -if(self.js)
      -each file in self.js
        - if (/^http/.test(file))
          script(src= file)
        - else
          script(src='/js/' + file + '.js', type='text/javascript')
